:root {
  color-scheme: light dark;

  /* Light theme (default) */
  --bg: #faf8f5;
  --surface: #fdfcfa;
  --surface-elevated: #fff;
  --text: #4a4540;
  --text-strong: #2c2825;
  --muted: #8a8480;
  --line: #e8e4df;
  --line-strong: #d0cbc5;
  --accent: #6b4c3a;
  --accent-hover: #543a2c;
  --accent-soft: #f5f0eb;
  --shadow: rgba(0, 0, 0, 0.1);
  --shadow-sm: rgba(0, 0, 0, 0.06);

  /* Typography */
  --font-serif: "IBM Plex Serif", Georgia, serif;
  --font-sans: "IBM Plex Sans", system-ui, sans-serif;
  --font-mono: "IBM Plex Mono", ui-monospace, monospace;

  /* Spacing (baseline: 1.2rem) */
  --space-1: 0.6rem;
  --space-2: 1.2rem;
  --space-3: 1.8rem;
  --space-4: 2.4rem;
  --space-6: 3.6rem;
  --baseline: 1.2rem;

  /* Type scale */
  --step--1: 0.875rem;
  --step-0: 1rem;
  --step-1: 1.25rem;
  --step-2: 1.5rem;

  /* Layout */
  --measure: 65ch;
  --radius: 0.5rem;
  --radius-full: 2rem;
}

/* Dark theme */
[data-theme="dark"] {
  --bg: #1a1816;
  --surface: #242120;
  --surface-elevated: #2e2a28;
  --text: #d4cfc8;
  --text-strong: #f0ebe6;
  --muted: #9a9590;
  --line: #3a3634;
  --line-strong: #4a4644;
  --accent: #c9a88a;
  --accent-hover: #dfc4a8;
  --accent-soft: #2a2420;
  --shadow: rgba(0, 0, 0, 0.3);
  --shadow-sm: rgba(0, 0, 0, 0.2);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --bg: #1a1816;
    --surface: #242120;
    --surface-elevated: #2e2a28;
    --text: #d4cfc8;
    --text-strong: #f0ebe6;
    --muted: #9a9590;
    --line: #3a3634;
    --line-strong: #4a4644;
    --accent: #c9a88a;
    --accent-hover: #dfc4a8;
    --accent-soft: #2a2420;
    --shadow: rgba(0, 0, 0, 0.3);
    --shadow-sm: rgba(0, 0, 0, 0.2);
  }
}

*, *::before, *::after { box-sizing: border-box; }

html { font-size: 100%; -webkit-text-size-adjust: 100%; }
html, body { margin: 0; min-height: 100%; }

body {
  background: var(--bg);
  color: var(--text);
  font: 400 var(--step-0)/1.2 var(--font-serif);
  -webkit-font-smoothing: antialiased;
}

a { color: var(--accent); text-decoration-thickness: 1px; text-underline-offset: 0.15em; }
a:hover { color: var(--accent-hover); text-decoration-thickness: 2px; }
:focus-visible { outline: 1px solid var(--accent); outline-offset: 2px; }
img, video { height: auto; max-width: 100%; }

/* Utilities */
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }
.skip-link { position: absolute; left: var(--space-2); top: -4rem; z-index: 50; }
.skip-link:focus { top: var(--space-2); }
